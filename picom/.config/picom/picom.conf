############################################
# picom.conf – lightweight + tear-free setup
############################################

# --- Core backend ---
backend = "glx";            # Use OpenGL (best for Nvidia)
vsync = true;               # Prevent tearing
use-damage = true;          # Helps performance

# --- Shadows ---
shadow = true;
shadow-radius = 10;
shadow-offset-x = -10;
shadow-offset-y = -10;
shadow-opacity = 0.35;
no-dnd-shadow = true;
no-dock-shadow = true;

# --- Fading ---
fading = true;
fade-in-step = 0.05;
fade-out-step = 0.05;

# --- Transparency ---
# inactive-opacity = 0.9;
# active-opacity = 0;
# frame-opacity = 0.8;
# detect-client-opacity = true;

# --- Blur (optional, comment out if slow) ---
# blur-method = "dual_kawase";
# blur-strength = 4;
blur-background = false;

# --- Performance tweaks ---
glx-no-stencil = true;
glx-no-rebind-pixmap = true;
xrender-sync-fence = true;
detect-transient = true;
detect-client-leader = true;
use-ewmh-active-win = true;

# --- Misc ---
unredir-if-possible = true;   # Don’t composite full-screen apps

